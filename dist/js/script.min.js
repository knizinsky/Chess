"use strict";var gameBoard=document.getElementById("gameBoard"),ctx=gameBoard.getContext("2d"),brownColor="#653c10",whiteColor="#dfc795",windowWidth=window.innerWidth,windowHeight=window.innerHeight,gameBoardSize=Math.min(windowWidth,windowHeight,600),board=[["r","p","","","","","P","R"],["n","p","","","","","P","N"],["b","p","","","","","P","B"],["q","p","","","","","P","Q"],["k","p","","","","","P","K"],["b","p","","","","","P","B"],["n","p","","","","","P","N"],["r","p","","","","","P","R"]],pieceNames={p:"Bpawn",r:"Brook",n:"Bknight",b:"Bbishop",q:"Bqueen",k:"Bking",P:"Wpawn",R:"Wrook",N:"Wknight",B:"Wbishop",Q:"Wqueen",K:"Wking"},tileSize=gameBoardSize/8,drawPiece=function(e,i,o){var a=new Image;a.src="./dist/img/".concat(e,".png"),a.onload=function(){ctx.drawImage(a,i,o,tileSize,tileSize)}},drawBoardAndPieces=function(e){for(var i=0,o=0;i<e;i+=tileSize,o++)for(var a=0,r=0;a<e;a+=tileSize,r++){ctx.fillStyle=o%2==0?r%2==0?whiteColor:brownColor:r%2==0?brownColor:whiteColor;var t=board[o][r];""!=t&&drawPiece(pieceNames[t],i,a),ctx.fillRect(i,a,tileSize,tileSize)}},resizeCanvas=function(){gameBoard.width=gameBoardSize,gameBoard.height=gameBoardSize,drawBoardAndPieces(gameBoardSize)},getCursorPosition=function(e){var a,i=e.offsetX,e=e.offsetY,o=Math.floor(e/tileSize),r=Math.floor(i/tileSize),t=Math.floor(e/tileSize),n=Math.floor(i/tileSize);"p"==board[r][o]&&board.forEach(function(e,o){e.forEach(function(e,i){"p"==e&&t==i&&n==o&&gameBoard.addEventListener("click",function(e){var i=e.offsetX,e=e.offsetY,e=Math.floor(e/tileSize),i=Math.floor(i/tileSize);(board[n][t]="")==board[i][e]&&(board[i][e]="p",a=board[i][e],drawPiece(pieceNames[a],i*tileSize,e*tileSize),drawBoardAndPieces(gameBoardSize))})})})};gameBoard.addEventListener("click",getCursorPosition),window.addEventListener("resize",resizeCanvas),window.addEventListener("load",function(){gameBoard.addEventListener("click",getCursorPosition),resizeCanvas()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJnYW1lQm9hcmQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsImJyb3duQ29sb3IiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwid2hpdGVDb2xvciIsImlubmVySGVpZ2h0Iiwid2luZG93V2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJnYW1lQm9hcmRTaXplIiwiTWF0aCIsImJvYXJkIiwicGllY2VOYW1lcyIsInAiLCJyIiwibiIsImIiLCJxIiwiayIsInRpbGVTaXplIiwiUCIsIlIiLCJpbWciLCJOIiwiQiIsIlEiLCJLIiwiZHJhd1BpZWNlIiwicGllY2VOYW1lIiwieCIsInkiLCJmaWxsU3R5bGUiLCJzcmMiLCJjb25jYXQiLCJvbmxvYWQiLCJkcmF3SW1hZ2UiLCJkcmF3Qm9hcmRBbmRQaWVjZXMiLCJpIiwiaiIsImwiLCJwaWVjZSIsIm9mZnNldFgiLCJjbGlja2VkUm93IiwiY2xpY2tlZENvbCIsImZsb29yIiwicmVzaXplQ2FudmFzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpZHRoIiwiaGVpZ2h0IiwiZXZlbnQiLCJjbGlja2VkUm93MiIsImdldEN1cnNvclBvc2l0aW9uIiwiY2xpY2tlZENvbDIiLCJDUiIsIkNDIiwib2Zmc2V0WSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsVUFBWUMsU0FBU0MsZUFBZSxXQUFXLEVBQy9DQyxJQUFNSCxVQUFVSSxXQUFXLElBQUksRUFEL0JKLFdBQVlDLFVBQ1pFLFdBQWUsVUFDZkUsWUFBYUMsT0FBU0MsV0FDdEJDLGFBQWFGLE9BQVNHLFlBQ3RCQyxjQUFjSixLQUFPQyxJQUFBQSxZQUFVSSxhQUFBLEdBQUEsRUFDL0JBLE1BQUFBLENBQ04sQ0FBQSxJQUFNQyxJQUFBQSxHQUFBQSxHQUFnQkMsR0FBSSxHQUFJLElBQUNILEtBQy9CLENBQUEsSUFBTUksSUFBUSxHQUNaLEdBQUssR0FBSyxHQUFJLElBQUksS0FVcEIsQ0FBQSxJQUFN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LENBRUgsQ0FBQyxDQUNGLENBQUMsQ0FFSCxFQUVBWixVQUFVaUQsaUJBQWlCLFFBQVNLLGlCQUFpQixFQUVyRGhELE9BQU8yQyxpQkFBaUIsU0FBVUQsWUFBWSxFQUU5QzFDLE9BQU8yQyxpQkFBaUIsT0FBUSxXQUMvQmpELFVBQVVpRCxpQkFBaUIsUUFBU0ssaUJBQWlCLEVBQ3JETixhQUFZLENBQ1gsQ0FBQyIsImZpbGUiOiJzY3JpcHQubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2FtZUJvYXJkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnYW1lQm9hcmRcIik7XHJcbmNvbnN0IGN0eCA9IGdhbWVCb2FyZC5nZXRDb250ZXh0KFwiMmRcIik7XHJcbmNvbnN0IGJyb3duQ29sb3IgPSBcIiM2NTNjMTBcIjtcclxuY29uc3Qgd2hpdGVDb2xvciA9IFwiI2RmYzc5NVwiO1xyXG5jb25zdCB3aW5kb3dXaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xyXG5jb25zdCB3aW5kb3dIZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcbmNvbnN0IGdhbWVCb2FyZFNpemUgPSBNYXRoLm1pbih3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0LCA2MDApO1xyXG5jb25zdCBib2FyZCA9IFtcclxuXHRbXCJyXCIsIFwicFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlBcIiwgXCJSXCJdLFxyXG5cdFtcIm5cIiwgXCJwXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiUFwiLCBcIk5cIl0sXHJcblx0W1wiYlwiLCBcInBcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJQXCIsIFwiQlwiXSxcclxuXHRbXCJxXCIsIFwicFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlBcIiwgXCJRXCJdLFxyXG5cdFtcImtcIiwgXCJwXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiUFwiLCBcIktcIl0sXHJcblx0W1wiYlwiLCBcInBcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJcIiwgXCJQXCIsIFwiQlwiXSxcclxuXHRbXCJuXCIsIFwicFwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlwiLCBcIlBcIiwgXCJOXCJdLFxyXG5cdFtcInJcIiwgXCJwXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiXCIsIFwiUFwiLCBcIlJcIl0sXHJcbl07XHJcblxyXG5jb25zdCBwaWVjZU5hbWVzID0ge1xyXG5cdHA6IFwiQnBhd25cIixcclxuXHRyOiBcIkJyb29rXCIsXHJcblx0bjogXCJCa25pZ2h0XCIsXHJcblx0YjogXCJCYmlzaG9wXCIsXHJcblx0cTogXCJCcXVlZW5cIixcclxuXHRrOiBcIkJraW5nXCIsXHJcblxyXG5cdFA6IFwiV3Bhd25cIixcclxuXHRSOiBcIldyb29rXCIsXHJcblx0TjogXCJXa25pZ2h0XCIsXHJcblx0QjogXCJXYmlzaG9wXCIsXHJcblx0UTogXCJXcXVlZW5cIixcclxuXHRLOiBcIldraW5nXCIsXHJcbn07XHJcblxyXG5sZXQgdGlsZVNpemUgPSBnYW1lQm9hcmRTaXplIC8gODtcclxuXHJcbmNvbnN0IGRyYXdQaWVjZSA9IChwaWVjZU5hbWUsIHgsIHkpID0+IHtcclxuXHRjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcclxuXHRpbWcuc3JjID0gYC4vZGlzdC9pbWcvJHtwaWVjZU5hbWV9LnBuZ2A7XHJcblxyXG5cdGltZy5vbmxvYWQgPSAoKSA9PiB7XHJcblx0XHRjdHguZHJhd0ltYWdlKGltZywgeCwgeSwgdGlsZVNpemUsIHRpbGVTaXplKTtcclxuXHR9O1xyXG59O1xyXG5cclxuY29uc3QgZHJhd0JvYXJkQW5kUGllY2VzID0gKGdhbWVCb2FyZFNpemUpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCBnYW1lQm9hcmRTaXplOyBpICs9IHRpbGVTaXplLCBqKyspIHtcclxuXHRcdGZvciAobGV0IGsgPSAwLCBsID0gMDsgayA8IGdhbWVCb2FyZFNpemU7IGsgKz0gdGlsZVNpemUsIGwrKykge1xyXG5cdFx0XHRpZiAoaiAlIDIgPT09IDApIHtcclxuXHRcdFx0XHRpZiAobCAlIDIgPT09IDApIHtcclxuXHRcdFx0XHRcdGN0eC5maWxsU3R5bGUgPSB3aGl0ZUNvbG9yO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRjdHguZmlsbFN0eWxlID0gYnJvd25Db2xvcjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKGwgJSAyID09PSAwKSB7XHJcblx0XHRcdFx0XHRjdHguZmlsbFN0eWxlID0gYnJvd25Db2xvcjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0Y3R4LmZpbGxTdHlsZSA9IHdoaXRlQ29sb3I7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjb25zdCBwaWVjZSA9IGJvYXJkW2pdW2xdO1xyXG5cclxuXHRcdFx0aWYgKHBpZWNlICE9IFwiXCIpIHtcclxuXHRcdFx0XHRkcmF3UGllY2UocGllY2VOYW1lc1twaWVjZV0sIGksIGspO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRjdHguZmlsbFJlY3QoaSwgaywgdGlsZVNpemUsIHRpbGVTaXplKTtcclxuXHRcdH1cclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCByZXNpemVDYW52YXMgPSAoKSA9PiB7XHJcblx0Z2FtZUJvYXJkLndpZHRoID0gZ2FtZUJvYXJkU2l6ZTtcclxuXHRnYW1lQm9hcmQuaGVpZ2h0ID0gZ2FtZUJvYXJkU2l6ZTtcclxuXHRkcmF3Qm9hcmRBbmRQaWVjZXMoZ2FtZUJvYXJkU2l6ZSk7XHJcbn07XHJcblxyXG5jb25zdCBnZXRDdXJzb3JQb3NpdGlvbiA9IChldmVudCkgPT4ge1xyXG5cdGxldCB4ID0gZXZlbnQub2Zmc2V0WDtcclxuXHRsZXQgeSA9IGV2ZW50Lm9mZnNldFk7XHJcblxyXG5cdGNvbnN0IGNsaWNrZWRSb3cgPSBNYXRoLmZsb29yKHkgLyB0aWxlU2l6ZSk7XHJcblx0Y29uc3QgY2xpY2tlZENvbCA9IE1hdGguZmxvb3IoeCAvIHRpbGVTaXplKTtcclxuXHJcblx0Y29uc3QgQ1IgPSBNYXRoLmZsb29yKHkgLyB0aWxlU2l6ZSk7XHJcblx0Y29uc3QgQ0MgPSBNYXRoLmZsb29yKHggLyB0aWxlU2l6ZSk7XHJcblxyXG5cdGxldCBwaWVjZTtcclxuXHJcblx0aWYgKGJvYXJkW2NsaWNrZWRDb2xdW2NsaWNrZWRSb3ddID09IFwicFwiKSB7XHJcblx0XHRib2FyZC5mb3JFYWNoKChjbGlja2VkUm93LCBpKSA9PiB7XHJcblx0XHRcdGNsaWNrZWRSb3cuZm9yRWFjaCgoY2xpY2tlZENvbCwgaikgPT4ge1xyXG5cdFx0XHRcdGlmIChjbGlja2VkQ29sID09IFwicFwiICYmIENSID09IGogJiYgQ0MgPT0gaSkge1xyXG5cdFx0XHRcdFx0Z2FtZUJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuXHRcdFx0XHRcdFx0bGV0IHggPSBldmVudC5vZmZzZXRYO1xyXG5cdFx0XHRcdFx0XHRsZXQgeSA9IGV2ZW50Lm9mZnNldFk7XHJcblxyXG5cdFx0XHRcdFx0XHRjb25zdCBjbGlja2VkUm93MiA9IE1hdGguZmxvb3IoeSAvIHRpbGVTaXplKTtcclxuXHRcdFx0XHRcdFx0Y29uc3QgY2xpY2tlZENvbDIgPSBNYXRoLmZsb29yKHggLyB0aWxlU2l6ZSk7XHJcblxyXG5cdFx0XHRcdFx0XHRib2FyZFtDQ11bQ1JdID0gXCJcIjtcclxuXHJcblx0XHRcdFx0XHRcdGlmIChib2FyZFtjbGlja2VkQ29sMl1bY2xpY2tlZFJvdzJdID09IFwiXCIpIHtcclxuXHRcdFx0XHRcdFx0XHRib2FyZFtjbGlja2VkQ29sMl1bY2xpY2tlZFJvdzJdID0gXCJwXCI7XHJcblxyXG5cdFx0XHRcdFx0XHRcdHBpZWNlID0gYm9hcmRbY2xpY2tlZENvbDJdW2NsaWNrZWRSb3cyXTtcclxuXHJcblx0XHRcdFx0XHRcdFx0ZHJhd1BpZWNlKFxyXG5cdFx0XHRcdFx0XHRcdFx0cGllY2VOYW1lc1twaWVjZV0sXHJcblx0XHRcdFx0XHRcdFx0XHRjbGlja2VkQ29sMiAqIHRpbGVTaXplLFxyXG5cdFx0XHRcdFx0XHRcdFx0Y2xpY2tlZFJvdzIgKiB0aWxlU2l6ZVxyXG5cdFx0XHRcdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdGRyYXdCb2FyZEFuZFBpZWNlcyhnYW1lQm9hcmRTaXplKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cdH1cclxufTtcclxuXHJcbmdhbWVCb2FyZC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZ2V0Q3Vyc29yUG9zaXRpb24pO1xyXG5cclxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgcmVzaXplQ2FudmFzKTtcclxuXHJcbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCAoKSA9PiB7XHJcblx0Z2FtZUJvYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBnZXRDdXJzb3JQb3NpdGlvbik7XHJcblx0cmVzaXplQ2FudmFzKCk7XHJcbiAgfSk7XHJcbiJdfQ==
